{"ast":null,"code":"var _jsxFileName = \"C:\\\\perflogss\\\\folder\\\\New folder (5)\\\\medical-lab-system\\\\src\\\\pages\\\\doctor\\\\SearchPatient.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport Button from \"../../components/Button\";\nimport Spinner from \"../../components/Spinner\";\nimport { usePatients } from \"../../context/PatientContext\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchPatient = () => {\n  _s();\n  const [patientId, setPatientId] = useState(\"\");\n  const [searchError, setSearchError] = useState(\"\");\n  const [patient, setPatient] = useState(null);\n  const [isImageEnlarged, setIsImageEnlarged] = useState(false);\n  const [imageBlob, setImageBlob] = useState(null);\n  const [imageLoading, setImageLoading] = useState(false);\n  const [imageError, setImageError] = useState(null);\n  const {\n    findPatientById,\n    loading\n  } = usePatients();\n  const {\n    tokens\n  } = useAuth();\n\n  // Add responsive state\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const isMobile = windowWidth < 768;\n  const isTablet = windowWidth >= 768 && windowWidth < 1024;\n\n  // Load saved patient data from localStorage on initial render\n  useEffect(() => {\n    const savedPatient = localStorage.getItem(\"savedPatient\");\n    const savedPatientId = localStorage.getItem(\"savedPatientId\");\n    if (savedPatient) {\n      try {\n        const parsedPatient = JSON.parse(savedPatient);\n        setPatient(parsedPatient);\n        setPatientId(savedPatientId || \"\");\n      } catch (error) {\n        console.error(\"Error parsing saved patient data:\", error);\n        // Clear corrupted data\n        localStorage.removeItem(\"savedPatient\");\n        localStorage.removeItem(\"savedPatientId\");\n      }\n    }\n  }, []);\n\n  // Handle window resize for responsiveness\n  useEffect(() => {\n    const handleResize = () => setWindowWidth(window.innerWidth);\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  // Save patient data to localStorage whenever it changes\n  useEffect(() => {\n    if (patient) {\n      localStorage.setItem(\"savedPatient\", JSON.stringify(patient));\n      localStorage.setItem(\"savedPatientId\", patientId);\n    } else {\n      localStorage.removeItem(\"savedPatient\");\n      localStorage.removeItem(\"savedPatientId\");\n    }\n  }, [patient, patientId]);\n\n  // Fetch image with authentication when patient changes and has an image_url\n  useEffect(() => {\n    if (patient !== null && patient !== void 0 && patient.image_url) {\n      fetchAuthenticatedImage(patient.image_url);\n    } else {\n      setImageBlob(null);\n    }\n  }, [patient]);\n\n  // Save the imageBlob to sessionStorage whenever it changes\n  useEffect(() => {\n    if (imageBlob) {\n      // We can't store the blob directly, but we can signal that we have an image\n      sessionStorage.setItem(\"hasPatientImage\", \"true\");\n    } else {\n      sessionStorage.removeItem(\"hasPatientImage\");\n    }\n  }, [imageBlob]);\n\n  // Function to fetch the image with authentication\n  const fetchAuthenticatedImage = async url => {\n    // Check if we already tried to fetch this image in this session\n    const cachedImageFlag = sessionStorage.getItem(\"hasPatientImage\");\n    const cachedImageUrl = sessionStorage.getItem(\"patientImageUrl\");\n\n    // If we've already marked this image as failed, don't try again\n    if (cachedImageUrl === url && sessionStorage.getItem(\"imageLoadFailed\") === \"true\") {\n      setImageError(\"Image previously failed to load\");\n      return;\n    }\n    setImageLoading(true);\n    setImageError(null);\n    try {\n      // Store the URL we're attempting to fetch\n      sessionStorage.setItem(\"patientImageUrl\", url);\n      const response = await fetch(url, {\n        headers: {\n          Authorization: `Bearer ${tokens.access}`\n        }\n      });\n      if (!response.ok) {\n        // Mark this image as failed for this session\n        sessionStorage.setItem(\"imageLoadFailed\", \"true\");\n        throw new Error(`Failed to load image: ${response.status} ${response.statusText}`);\n      }\n      const blob = await response.blob();\n      const objectUrl = URL.createObjectURL(blob);\n      setImageBlob(objectUrl);\n      // Clear failed flag if we succeeded\n      sessionStorage.removeItem(\"imageLoadFailed\");\n      setImageLoading(false);\n    } catch (error) {\n      console.error(\"Error fetching image:\", error);\n      setImageError(error.message);\n      setImageLoading(false);\n    }\n  };\n\n  // Cleanup object URL when component unmounts or when imageBlob changes\n  useEffect(() => {\n    return () => {\n      if (imageBlob) {\n        URL.revokeObjectURL(imageBlob);\n      }\n    };\n  }, [imageBlob]);\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (!patientId.trim()) {\n      setSearchError(\"Please enter a patient ID\");\n      return;\n    }\n    try {\n      const foundPatient = await findPatientById(patientId);\n      if (!foundPatient) {\n        setSearchError(\"No patient found with this ID\");\n        setPatient(null);\n      } else {\n        setPatient(foundPatient);\n        setSearchError(\"\");\n      }\n    } catch (err) {\n      console.error(\"Error searching for patient:\", err);\n      setSearchError(\"An error occurred while searching\");\n    }\n  };\n\n  // When clearing results, also clear stored data\n  const clearResults = () => {\n    setPatient(null);\n    setPatientId(\"\");\n    setImageBlob(null);\n    // Clear all saved data\n    localStorage.removeItem(\"savedPatient\");\n    localStorage.removeItem(\"savedPatientId\");\n    sessionStorage.removeItem(\"hasPatientImage\");\n    sessionStorage.removeItem(\"patientImageUrl\");\n    sessionStorage.removeItem(\"imageLoadFailed\");\n  };\n\n  // ==== STYLES ====\n\n  // Page container styles\n  const pageContainerStyle = {\n    maxWidth: isMobile ? \"100%\" : isTablet ? \"90%\" : \"1100px\",\n    margin: \"0 auto\",\n    padding: isMobile ? \"16px\" : isTablet ? \"24px\" : \"32px\",\n    width: \"100%\",\n    boxSizing: \"border-box\"\n  };\n\n  // Header section styles\n  const headerSectionStyle = {\n    marginBottom: isMobile ? \"24px\" : \"32px\"\n  };\n\n  // Header title styles\n  const headerTitleStyle = {\n    fontSize: isMobile ? \"20px\" : isTablet ? \"24px\" : \"28px\",\n    fontWeight: \"700\",\n    color: \"#1E293B\",\n    borderLeft: \"4px solid #2563EB\",\n    paddingLeft: \"12px\",\n    marginBottom: \"8px\"\n  };\n\n  // Header description styles\n  const headerDescriptionStyle = {\n    fontSize: isMobile ? \"14px\" : \"16px\",\n    color: \"#64748B\",\n    marginTop: \"8px\"\n  };\n\n  // Search form card styles\n  const searchFormCardStyle = {\n    backgroundColor: \"#ffffff\",\n    borderRadius: \"12px\",\n    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.05)\",\n    padding: isMobile ? \"16px\" : \"24px\",\n    marginBottom: \"24px\",\n    border: \"1px solid #E2E8F0\"\n  };\n\n  // Form styles\n  const formStyle = {\n    display: \"flex\",\n    flexDirection: isMobile ? \"column\" : \"row\",\n    gap: \"16px\",\n    alignItems: isMobile ? \"stretch\" : \"flex-end\",\n    width: \"100%\"\n  };\n\n  // Form group styles\n  const formGroupStyle = {\n    flexGrow: 1,\n    position: \"relative\"\n  };\n\n  // Label styles\n  const labelStyle = {\n    display: \"block\",\n    marginBottom: \"8px\",\n    fontWeight: \"500\",\n    fontSize: isMobile ? \"14px\" : \"15px\",\n    color: \"#334155\"\n  };\n\n  // Input styles\n  const inputStyle = {\n    width: \"100%\",\n    padding: \"12px 16px\",\n    fontSize: isMobile ? \"14px\" : \"15px\",\n    borderRadius: \"8px\",\n    border: searchError ? \"1px solid #EF4444\" : \"1px solid #CBD5E1\",\n    backgroundColor: \"#FFFFFF\",\n    boxSizing: \"border-box\",\n    outline: \"none\",\n    transition: \"border-color 0.2s ease, box-shadow 0.2s ease\"\n  };\n\n  // Input focus/blur handlers\n  const focusStyle = e => {\n    e.target.style.borderColor = \"#3B82F6\";\n    e.target.style.boxShadow = \"0 0 0 3px rgba(59, 130, 246, 0.1)\";\n  };\n  const blurStyle = e => {\n    if (searchError) {\n      e.target.style.borderColor = \"#EF4444\";\n      e.target.style.boxShadow = \"none\";\n    } else {\n      e.target.style.borderColor = \"#CBD5E1\";\n      e.target.style.boxShadow = \"none\";\n    }\n  };\n\n  // Error message styles\n  const errorMessageStyle = {\n    color: \"#EF4444\",\n    fontSize: \"13px\",\n    marginTop: \"4px\",\n    position: isMobile ? \"static\" : \"absolute\",\n    paddingBottom: isMobile ? \"4px\" : \"0\"\n  };\n\n  // Button container styles\n  const buttonContainerStyle = {\n    display: \"flex\",\n    alignItems: \"center\"\n  };\n\n  // Search button icon styles\n  const searchIconStyle = {\n    width: \"16px\",\n    height: \"16px\",\n    marginRight: \"8px\"\n  };\n\n  // Patient card container styles\n  const patientCardStyle = {\n    backgroundColor: \"#FFFFFF\",\n    borderRadius: \"12px\",\n    overflow: \"hidden\",\n    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.08)\",\n    border: \"1px solid #E2E8F0\",\n    marginBottom: \"24px\"\n  };\n\n  // Patient card flex container\n  const patientCardFlexStyle = {\n    display: \"flex\",\n    flexDirection: isMobile ? \"column\" : \"row\"\n  };\n\n  // Patient image container styles\n  const patientImageContainerStyle = {\n    width: isMobile ? \"100%\" : \"33.333%\",\n    backgroundColor: \"#F8FAFC\",\n    cursor: patient !== null && patient !== void 0 && patient.image_url ? \"pointer\" : \"default\",\n    position: \"relative\",\n    overflow: \"hidden\"\n  };\n\n  // No image placeholder styles\n  const noImagePlaceholderStyle = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: isMobile ? \"200px\" : \"100%\",\n    backgroundColor: \"#F1F5F9\",\n    padding: \"24px\"\n  };\n\n  // No image icon styles\n  const noImageIconStyle = {\n    width: \"64px\",\n    height: \"64px\",\n    marginBottom: \"8px\",\n    color: \"#94A3B8\"\n  };\n\n  // Patient info container styles\n  const patientInfoContainerStyle = {\n    width: isMobile ? \"100%\" : \"66.666%\",\n    padding: isMobile ? \"20px\" : \"24px\"\n  };\n\n  // Patient header styles\n  const patientHeaderStyle = {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: isMobile ? \"flex-start\" : \"center\",\n    marginBottom: \"24px\",\n    flexDirection: isMobile ? \"column\" : \"row\",\n    gap: isMobile ? \"12px\" : \"0\"\n  };\n\n  // Patient name styles\n  const patientNameStyle = {\n    fontSize: isMobile ? \"20px\" : \"24px\",\n    fontWeight: \"700\",\n    color: \"#1E293B\"\n  };\n\n  // Patient ID badge styles\n  const patientIdBadgeStyle = {\n    backgroundColor: \"#DBEAFE\",\n    color: \"#1D4ED8\",\n    fontSize: \"12px\",\n    padding: \"4px 12px\",\n    borderRadius: \"9999px\",\n    fontWeight: \"500\",\n    display: \"inline-block\"\n  };\n\n  // Patient details grid styles\n  const patientDetailsGridStyle = {\n    display: \"grid\",\n    gridTemplateColumns: isMobile ? \"1fr\" : \"repeat(2, 1fr)\",\n    gap: \"16px\",\n    marginBottom: \"24px\",\n    borderBottom: \"1px solid #E2E8F0\",\n    paddingBottom: \"16px\"\n  };\n\n  // Patient detail label styles\n  const patientDetailLabelStyle = {\n    fontSize: \"13px\",\n    fontWeight: \"500\",\n    color: \"#64748B\",\n    marginBottom: \"4px\"\n  };\n\n  // Patient detail value styles\n  const patientDetailValueStyle = {\n    fontSize: isMobile ? \"16px\" : \"18px\",\n    color: \"#334155\",\n    fontWeight: \"500\"\n  };\n\n  // Patient results section styles\n  const patientNotesSectionStyle = {\n    paddingTop: \"16px\",\n    width: isMobile ? \"90%\" : \"100%\"\n  };\n\n  // Patient results title styles\n  const patientNotesTitleStyle = {\n    fontSize: isMobile ? \"16px\" : \"18px\",\n    fontWeight: \"600\",\n    color: \"#1E293B\",\n    marginBottom: \"12px\"\n  };\n\n  // Test results content styles\n  const notesContentStyle = {\n    backgroundColor: \"#EFF6FF\",\n    color: \"#1E40AF\",\n    padding: \"16px\",\n    borderRadius: \"8px\",\n    fontSize: isMobile ? \"14px\" : \"15px\",\n    lineHeight: \"1.5\",\n    marginBottom: \"20px\",\n    minHeight: \"40px\",\n    display: \"flex\",\n    alignItems: \"center\"\n  };\n\n  // No results message styles\n  const noNotesMessageStyle = {\n    color: \"#64748B\",\n    fontStyle: \"italic\"\n  };\n\n  // Actions container styles\n  const actionsContainerStyle = {\n    marginTop: \"12px\",\n    display: \"flex\",\n    justifyContent: isMobile ? \"center\" : \"flex-end\",\n    gap: \"12px\",\n    flexDirection: isMobile ? \"column\" : \"row\",\n    width: isMobile ? \"90%\" : \"100%\"\n  };\n\n  // No patient found card styles\n  const noPatientCardStyle = {\n    backgroundColor: \"#FFFFFF\",\n    padding: \"24px\",\n    borderRadius: \"12px\",\n    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.05)\",\n    textAlign: \"center\",\n    border: \"1px solid #E2E8F0\",\n    marginBottom: \"24px\"\n  };\n\n  // No patient icon styles\n  const noPatientIconStyle = {\n    width: \"48px\",\n    height: \"48px\",\n    margin: \"0 auto 16px auto\",\n    color: \"#EF4444\"\n  };\n\n  // No patient title styles\n  const noPatientTitleStyle = {\n    fontSize: isMobile ? \"16px\" : \"18px\",\n    fontWeight: \"500\",\n    color: \"#111827\",\n    marginBottom: \"8px\"\n  };\n\n  // No patient message styles\n  const noPatientMessageStyle = {\n    color: \"#64748B\",\n    marginBottom: \"16px\"\n  };\n\n  // Patient ID highlight styles\n  const patientIdHighlightStyle = {\n    fontWeight: \"600\"\n  };\n\n  // Patient image zoom overlay\n  const imageOverlayStyle = {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"rgba(0, 0, 0, 0.85)\",\n    display: isImageEnlarged ? \"flex\" : \"none\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 1000,\n    backdropFilter: \"blur(4px)\"\n  };\n\n  // Enlarged image container\n  const enlargedImageContainerStyle = {\n    position: \"relative\",\n    maxWidth: \"90%\",\n    maxHeight: \"90%\",\n    boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.3)\",\n    borderRadius: \"8px\",\n    overflow: \"hidden\"\n  };\n\n  // Enlarged image style\n  const enlargedImageStyle = {\n    maxWidth: \"100%\",\n    maxHeight: \"90vh\",\n    objectFit: \"contain\"\n  };\n\n  // Close button for enlarged image\n  const closeEnlargedImageButtonStyle = {\n    position: \"absolute\",\n    top: \"12px\",\n    right: \"12px\",\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    color: \"white\",\n    borderRadius: \"50%\",\n    width: \"36px\",\n    height: \"36px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    cursor: \"pointer\",\n    border: \"none\",\n    outline: \"none\"\n  };\n\n  // Image zoom icon\n  const zoomIconStyle = {\n    position: \"absolute\",\n    top: \"12px\",\n    right: \"12px\",\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    color: \"white\",\n    borderRadius: \"50%\",\n    width: \"32px\",\n    height: \"32px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    cursor: \"pointer\",\n    zIndex: 10\n  };\n\n  // Patient image responsive style\n  const patientImageStyle = {\n    width: \"100%\",\n    height: isMobile ? \"250px\" : \"100%\",\n    objectFit: \"cover\",\n    transition: \"transform 0.3s ease\"\n  };\n\n  // Hover text for image zoom\n  const zoomTextStyle = {\n    position: \"absolute\",\n    bottom: \"12px\",\n    left: \"0\",\n    right: \"0\",\n    textAlign: \"center\",\n    backgroundColor: \"rgba(0, 0, 0, 0.6)\",\n    color: \"white\",\n    padding: \"8px\",\n    fontSize: \"12px\",\n    opacity: 0,\n    transition: \"opacity 0.2s ease\"\n  };\n\n  // Function to format image URL\n  const formatImageUrl = imagePath => {\n    if (!imagePath) return null;\n    // If URL is already absolute with http/https, use it as is\n    if (imagePath.startsWith(\"http\")) {\n      return imagePath;\n    }\n    // Otherwise, prefix with the API base URL\n    return `http://localhost:8000${imagePath}`;\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: pageContainerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: headerSectionStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: headerTitleStyle,\n          children: \"Patient Lookup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: headerDescriptionStyle,\n          children: \"Enter the patient ID to view their details and test results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: searchFormCardStyle,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSearch,\n          style: formStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: formGroupStyle,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: labelStyle,\n              htmlFor: \"patientId\",\n              children: \"Patient ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"patientId\",\n              type: \"text\",\n              style: inputStyle,\n              value: patientId,\n              onChange: e => {\n                setPatientId(e.target.value);\n                setSearchError(\"\");\n              },\n              placeholder: \"Enter patient ID (e.g., P001)\",\n              onFocus: focusStyle,\n              onBlur: blurStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 15\n            }, this), searchError && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: errorMessageStyle,\n              children: searchError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: buttonContainerStyle,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"primary\",\n              disabled: loading,\n              style: {\n                width: isMobile ? \"100%\" : \"auto\",\n                padding: \"12px 20px\",\n                fontSize: \"15px\",\n                borderRadius: \"8px\",\n                marginTop: isMobile && searchError ? \"24px\" : \"0\",\n                backgroundColor: \"#0EA5E9\",\n                borderColor: \"#0EA5E9\"\n              },\n              children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                  size: \"small\",\n                  color: \"white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: \"8px\"\n                  },\n                  children: \"Searching...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 636,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: isMobile ? \"center\" : \"flex-start\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  style: searchIconStyle,\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 653,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 21\n                }, this), \"Search\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: imageOverlayStyle,\n        onClick: () => setIsImageEnlarged(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: enlargedImageContainerStyle,\n          onClick: e => e.stopPropagation(),\n          children: [imageBlob && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageBlob,\n            alt: patient === null || patient === void 0 ? void 0 : patient.name,\n            style: enlargedImageStyle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: closeEnlargedImageButtonStyle,\n            onClick: () => setIsImageEnlarged(false),\n            \"aria-label\": \"Close image preview\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 9\n      }, this), patient && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: patientCardStyle,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: patientCardFlexStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: patientImageContainerStyle,\n            onMouseEnter: e => {\n              if (imageBlob) {\n                const zoomText = e.currentTarget.querySelector(\"[data-zoom-text]\");\n                if (zoomText) zoomText.style.opacity = \"1\";\n              }\n            },\n            onMouseLeave: e => {\n              if (imageBlob) {\n                const zoomText = e.currentTarget.querySelector(\"[data-zoom-text]\");\n                if (zoomText) zoomText.style.opacity = \"0\";\n              }\n            },\n            children: imageLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: noImagePlaceholderStyle,\n              children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                size: \"medium\",\n                color: \"#64748B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginTop: \"16px\",\n                  color: \"#64748B\"\n                },\n                children: \"Loading image...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 19\n            }, this) : imageBlob ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageBlob,\n                alt: patient.name,\n                style: patientImageStyle,\n                onClick: () => setIsImageEnlarged(true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: zoomIconStyle,\n                onClick: () => setIsImageEnlarged(true),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"18\",\n                  height: \"18\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 755,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: zoomTextStyle,\n                \"data-zoom-text\": \"true\",\n                children: \"Click to enlarge image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 763,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 19\n            }, this) : imageError ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: noImagePlaceholderStyle,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                style: noImageIconStyle,\n                fill: \"none\",\n                stroke: \"#EF4444\",\n                viewBox: \"0 0 24 24\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 776,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 769,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: \"#EF4444\"\n                },\n                children: \"Error loading image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: noImagePlaceholderStyle,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                style: noImageIconStyle,\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 794,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 787,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No image available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 801,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: patientInfoContainerStyle,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: patientHeaderStyle,\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: patientNameStyle,\n                children: patient.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: patientIdBadgeStyle,\n                children: [\"Patient ID: \", patient.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 809,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: patientDetailsGridStyle,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  style: patientDetailLabelStyle,\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: patientDetailValueStyle,\n                  children: [patient.age, \" years\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 817,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 19\n              }, this), patient.gender && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  style: patientDetailLabelStyle,\n                  children: \"Gender\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 821,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: patientDetailValueStyle,\n                  children: patient.gender\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 21\n              }, this), patient.contactNumber && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  style: patientDetailLabelStyle,\n                  children: \"Contact Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: patientDetailValueStyle,\n                  children: patient.contactNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 21\n              }, this), patient.email && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  style: patientDetailLabelStyle,\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 835,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: patientDetailValueStyle,\n                  children: patient.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: patientNotesSectionStyle,\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: patientNotesTitleStyle,\n                children: \"Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 19\n              }, this), patient.note ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: notesContentStyle,\n                children: patient.note\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                style: noNotesMessageStyle,\n                children: \"No notes available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: actionsContainerStyle,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                size: \"small\",\n                onClick: clearResults,\n                style: {\n                  padding: \"10px 16px\",\n                  fontSize: \"14px\",\n                  borderRadius: \"8px\",\n                  width: isMobile ? \"100%\" : \"auto\",\n                  backgroundColor: \"#F3E8FF\",\n                  color: \"#9333EA\",\n                  border: \"1px solid #E9D5FF\"\n                },\n                children: \"Clear Results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 851,\n                columnNumber: 19\n              }, this), imageBlob && /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                size: \"small\",\n                onClick: () => setIsImageEnlarged(true),\n                style: {\n                  padding: \"10px 16px\",\n                  fontSize: \"14px\",\n                  borderRadius: \"8px\",\n                  width: isMobile ? \"100%\" : \"auto\",\n                  backgroundColor: \"#0EA5E9\",\n                  borderColor: \"#0EA5E9\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: isMobile ? \"center\" : \"flex-start\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    style: {\n                      width: \"16px\",\n                      height: \"16px\",\n                      marginRight: \"6px\"\n                    },\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 899,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: 2,\n                      d: \"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 905,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 888,\n                    columnNumber: 25\n                  }, this), \"View Image\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 881,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 850,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 11\n      }, this), !patient && !loading && patientId && searchError && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: noPatientCardStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#EF4444\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            style: noPatientIconStyle,\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: noPatientTitleStyle,\n          children: \"No Results Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 939,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: noPatientMessageStyle,\n          children: [\"We couldn't find a patient with the ID:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: patientIdHighlightStyle,\n            children: patientId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 942,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 940,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          size: \"small\",\n          onClick: () => {\n            setPatientId(\"\");\n            setSearchError(\"\");\n          },\n          style: {\n            padding: \"10px 16px\",\n            fontSize: \"14px\",\n            borderRadius: \"8px\",\n            width: isMobile ? \"100%\" : \"auto\",\n            maxWidth: \"200px\",\n            margin: isMobile ? \"0 auto\" : \"0\",\n            backgroundColor: \"#F3E8FF\",\n            color: \"#9333EA\",\n            border: \"1px solid #E9D5FF\"\n          },\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 923,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 580,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchPatient, \"wZMlqpId24XwCjjSTQpHytfcoQM=\", false, function () {\n  return [usePatients, useAuth];\n});\n_c = SearchPatient;\nexport default SearchPatient;\nvar _c;\n$RefreshReg$(_c, \"SearchPatient\");","map":{"version":3,"names":["React","useState","useEffect","Layout","Button","Spinner","usePatients","useAuth","jsxDEV","_jsxDEV","SearchPatient","_s","patientId","setPatientId","searchError","setSearchError","patient","setPatient","isImageEnlarged","setIsImageEnlarged","imageBlob","setImageBlob","imageLoading","setImageLoading","imageError","setImageError","findPatientById","loading","tokens","windowWidth","setWindowWidth","window","innerWidth","isMobile","isTablet","savedPatient","localStorage","getItem","savedPatientId","parsedPatient","JSON","parse","error","console","removeItem","handleResize","addEventListener","removeEventListener","setItem","stringify","image_url","fetchAuthenticatedImage","sessionStorage","url","cachedImageFlag","cachedImageUrl","response","fetch","headers","Authorization","access","ok","Error","status","statusText","blob","objectUrl","URL","createObjectURL","message","revokeObjectURL","handleSearch","e","preventDefault","trim","foundPatient","err","clearResults","pageContainerStyle","maxWidth","margin","padding","width","boxSizing","headerSectionStyle","marginBottom","headerTitleStyle","fontSize","fontWeight","color","borderLeft","paddingLeft","headerDescriptionStyle","marginTop","searchFormCardStyle","backgroundColor","borderRadius","boxShadow","border","formStyle","display","flexDirection","gap","alignItems","formGroupStyle","flexGrow","position","labelStyle","inputStyle","outline","transition","focusStyle","target","style","borderColor","blurStyle","errorMessageStyle","paddingBottom","buttonContainerStyle","searchIconStyle","height","marginRight","patientCardStyle","overflow","patientCardFlexStyle","patientImageContainerStyle","cursor","noImagePlaceholderStyle","justifyContent","noImageIconStyle","patientInfoContainerStyle","patientHeaderStyle","patientNameStyle","patientIdBadgeStyle","patientDetailsGridStyle","gridTemplateColumns","borderBottom","patientDetailLabelStyle","patientDetailValueStyle","patientNotesSectionStyle","paddingTop","patientNotesTitleStyle","notesContentStyle","lineHeight","minHeight","noNotesMessageStyle","fontStyle","actionsContainerStyle","noPatientCardStyle","textAlign","noPatientIconStyle","noPatientTitleStyle","noPatientMessageStyle","patientIdHighlightStyle","imageOverlayStyle","top","left","zIndex","backdropFilter","enlargedImageContainerStyle","maxHeight","enlargedImageStyle","objectFit","closeEnlargedImageButtonStyle","right","zoomIconStyle","patientImageStyle","zoomTextStyle","bottom","opacity","formatImageUrl","imagePath","startsWith","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","type","value","onChange","placeholder","onFocus","onBlur","variant","disabled","size","marginLeft","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","stopPropagation","src","alt","name","onMouseEnter","zoomText","currentTarget","querySelector","onMouseLeave","age","gender","contactNumber","email","note","_c","$RefreshReg$"],"sources":["C:/perflogss/folder/New folder (5)/medical-lab-system/src/pages/doctor/SearchPatient.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../../components/Layout\";\r\nimport Button from \"../../components/Button\";\r\nimport Spinner from \"../../components/Spinner\";\r\nimport { usePatients } from \"../../context/PatientContext\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\n\r\nconst SearchPatient = () => {\r\n  const [patientId, setPatientId] = useState(\"\");\r\n  const [searchError, setSearchError] = useState(\"\");\r\n  const [patient, setPatient] = useState(null);\r\n  const [isImageEnlarged, setIsImageEnlarged] = useState(false);\r\n  const [imageBlob, setImageBlob] = useState(null);\r\n  const [imageLoading, setImageLoading] = useState(false);\r\n  const [imageError, setImageError] = useState(null);\r\n  const { findPatientById, loading } = usePatients();\r\n  const { tokens } = useAuth();\r\n\r\n  // Add responsive state\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  const isMobile = windowWidth < 768;\r\n  const isTablet = windowWidth >= 768 && windowWidth < 1024;\r\n\r\n  // Load saved patient data from localStorage on initial render\r\n  useEffect(() => {\r\n    const savedPatient = localStorage.getItem(\"savedPatient\");\r\n    const savedPatientId = localStorage.getItem(\"savedPatientId\");\r\n\r\n    if (savedPatient) {\r\n      try {\r\n        const parsedPatient = JSON.parse(savedPatient);\r\n        setPatient(parsedPatient);\r\n        setPatientId(savedPatientId || \"\");\r\n      } catch (error) {\r\n        console.error(\"Error parsing saved patient data:\", error);\r\n        // Clear corrupted data\r\n        localStorage.removeItem(\"savedPatient\");\r\n        localStorage.removeItem(\"savedPatientId\");\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Handle window resize for responsiveness\r\n  useEffect(() => {\r\n    const handleResize = () => setWindowWidth(window.innerWidth);\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  // Save patient data to localStorage whenever it changes\r\n  useEffect(() => {\r\n    if (patient) {\r\n      localStorage.setItem(\"savedPatient\", JSON.stringify(patient));\r\n      localStorage.setItem(\"savedPatientId\", patientId);\r\n    } else {\r\n      localStorage.removeItem(\"savedPatient\");\r\n      localStorage.removeItem(\"savedPatientId\");\r\n    }\r\n  }, [patient, patientId]);\r\n\r\n  // Fetch image with authentication when patient changes and has an image_url\r\n  useEffect(() => {\r\n    if (patient?.image_url) {\r\n      fetchAuthenticatedImage(patient.image_url);\r\n    } else {\r\n      setImageBlob(null);\r\n    }\r\n  }, [patient]);\r\n\r\n  // Save the imageBlob to sessionStorage whenever it changes\r\n  useEffect(() => {\r\n    if (imageBlob) {\r\n      // We can't store the blob directly, but we can signal that we have an image\r\n      sessionStorage.setItem(\"hasPatientImage\", \"true\");\r\n    } else {\r\n      sessionStorage.removeItem(\"hasPatientImage\");\r\n    }\r\n  }, [imageBlob]);\r\n\r\n  // Function to fetch the image with authentication\r\n  const fetchAuthenticatedImage = async (url) => {\r\n    // Check if we already tried to fetch this image in this session\r\n    const cachedImageFlag = sessionStorage.getItem(\"hasPatientImage\");\r\n    const cachedImageUrl = sessionStorage.getItem(\"patientImageUrl\");\r\n\r\n    // If we've already marked this image as failed, don't try again\r\n    if (\r\n      cachedImageUrl === url &&\r\n      sessionStorage.getItem(\"imageLoadFailed\") === \"true\"\r\n    ) {\r\n      setImageError(\"Image previously failed to load\");\r\n      return;\r\n    }\r\n\r\n    setImageLoading(true);\r\n    setImageError(null);\r\n\r\n    try {\r\n      // Store the URL we're attempting to fetch\r\n      sessionStorage.setItem(\"patientImageUrl\", url);\r\n\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          Authorization: `Bearer ${tokens.access}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        // Mark this image as failed for this session\r\n        sessionStorage.setItem(\"imageLoadFailed\", \"true\");\r\n        throw new Error(\r\n          `Failed to load image: ${response.status} ${response.statusText}`\r\n        );\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const objectUrl = URL.createObjectURL(blob);\r\n      setImageBlob(objectUrl);\r\n      // Clear failed flag if we succeeded\r\n      sessionStorage.removeItem(\"imageLoadFailed\");\r\n      setImageLoading(false);\r\n    } catch (error) {\r\n      console.error(\"Error fetching image:\", error);\r\n      setImageError(error.message);\r\n      setImageLoading(false);\r\n    }\r\n  };\r\n\r\n  // Cleanup object URL when component unmounts or when imageBlob changes\r\n  useEffect(() => {\r\n    return () => {\r\n      if (imageBlob) {\r\n        URL.revokeObjectURL(imageBlob);\r\n      }\r\n    };\r\n  }, [imageBlob]);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!patientId.trim()) {\r\n      setSearchError(\"Please enter a patient ID\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const foundPatient = await findPatientById(patientId);\r\n\r\n      if (!foundPatient) {\r\n        setSearchError(\"No patient found with this ID\");\r\n        setPatient(null);\r\n      } else {\r\n        setPatient(foundPatient);\r\n        setSearchError(\"\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error searching for patient:\", err);\r\n      setSearchError(\"An error occurred while searching\");\r\n    }\r\n  };\r\n\r\n  // When clearing results, also clear stored data\r\n  const clearResults = () => {\r\n    setPatient(null);\r\n    setPatientId(\"\");\r\n    setImageBlob(null);\r\n    // Clear all saved data\r\n    localStorage.removeItem(\"savedPatient\");\r\n    localStorage.removeItem(\"savedPatientId\");\r\n    sessionStorage.removeItem(\"hasPatientImage\");\r\n    sessionStorage.removeItem(\"patientImageUrl\");\r\n    sessionStorage.removeItem(\"imageLoadFailed\");\r\n  };\r\n\r\n  // ==== STYLES ====\r\n\r\n  // Page container styles\r\n  const pageContainerStyle = {\r\n    maxWidth: isMobile ? \"100%\" : isTablet ? \"90%\" : \"1100px\",\r\n    margin: \"0 auto\",\r\n    padding: isMobile ? \"16px\" : isTablet ? \"24px\" : \"32px\",\r\n    width: \"100%\",\r\n    boxSizing: \"border-box\",\r\n  };\r\n\r\n  // Header section styles\r\n  const headerSectionStyle = {\r\n    marginBottom: isMobile ? \"24px\" : \"32px\",\r\n  };\r\n\r\n  // Header title styles\r\n  const headerTitleStyle = {\r\n    fontSize: isMobile ? \"20px\" : isTablet ? \"24px\" : \"28px\",\r\n    fontWeight: \"700\",\r\n    color: \"#1E293B\",\r\n    borderLeft: \"4px solid #2563EB\",\r\n    paddingLeft: \"12px\",\r\n    marginBottom: \"8px\",\r\n  };\r\n\r\n  // Header description styles\r\n  const headerDescriptionStyle = {\r\n    fontSize: isMobile ? \"14px\" : \"16px\",\r\n    color: \"#64748B\",\r\n    marginTop: \"8px\",\r\n  };\r\n\r\n  // Search form card styles\r\n  const searchFormCardStyle = {\r\n    backgroundColor: \"#ffffff\",\r\n    borderRadius: \"12px\",\r\n    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.05)\",\r\n    padding: isMobile ? \"16px\" : \"24px\",\r\n    marginBottom: \"24px\",\r\n    border: \"1px solid #E2E8F0\",\r\n  };\r\n\r\n  // Form styles\r\n  const formStyle = {\r\n    display: \"flex\",\r\n    flexDirection: isMobile ? \"column\" : \"row\",\r\n    gap: \"16px\",\r\n    alignItems: isMobile ? \"stretch\" : \"flex-end\",\r\n    width: \"100%\",\r\n  };\r\n\r\n  // Form group styles\r\n  const formGroupStyle = {\r\n    flexGrow: 1,\r\n    position: \"relative\",\r\n  };\r\n\r\n  // Label styles\r\n  const labelStyle = {\r\n    display: \"block\",\r\n    marginBottom: \"8px\",\r\n    fontWeight: \"500\",\r\n    fontSize: isMobile ? \"14px\" : \"15px\",\r\n    color: \"#334155\",\r\n  };\r\n\r\n  // Input styles\r\n  const inputStyle = {\r\n    width: \"100%\",\r\n    padding: \"12px 16px\",\r\n    fontSize: isMobile ? \"14px\" : \"15px\",\r\n    borderRadius: \"8px\",\r\n    border: searchError ? \"1px solid #EF4444\" : \"1px solid #CBD5E1\",\r\n    backgroundColor: \"#FFFFFF\",\r\n    boxSizing: \"border-box\",\r\n    outline: \"none\",\r\n    transition: \"border-color 0.2s ease, box-shadow 0.2s ease\",\r\n  };\r\n\r\n  // Input focus/blur handlers\r\n  const focusStyle = (e) => {\r\n    e.target.style.borderColor = \"#3B82F6\";\r\n    e.target.style.boxShadow = \"0 0 0 3px rgba(59, 130, 246, 0.1)\";\r\n  };\r\n\r\n  const blurStyle = (e) => {\r\n    if (searchError) {\r\n      e.target.style.borderColor = \"#EF4444\";\r\n      e.target.style.boxShadow = \"none\";\r\n    } else {\r\n      e.target.style.borderColor = \"#CBD5E1\";\r\n      e.target.style.boxShadow = \"none\";\r\n    }\r\n  };\r\n\r\n  // Error message styles\r\n  const errorMessageStyle = {\r\n    color: \"#EF4444\",\r\n    fontSize: \"13px\",\r\n    marginTop: \"4px\",\r\n    position: isMobile ? \"static\" : \"absolute\",\r\n    paddingBottom: isMobile ? \"4px\" : \"0\",\r\n  };\r\n\r\n  // Button container styles\r\n  const buttonContainerStyle = {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  };\r\n\r\n  // Search button icon styles\r\n  const searchIconStyle = {\r\n    width: \"16px\",\r\n    height: \"16px\",\r\n    marginRight: \"8px\",\r\n  };\r\n\r\n  // Patient card container styles\r\n  const patientCardStyle = {\r\n    backgroundColor: \"#FFFFFF\",\r\n    borderRadius: \"12px\",\r\n    overflow: \"hidden\",\r\n    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.08)\",\r\n    border: \"1px solid #E2E8F0\",\r\n    marginBottom: \"24px\",\r\n  };\r\n\r\n  // Patient card flex container\r\n  const patientCardFlexStyle = {\r\n    display: \"flex\",\r\n    flexDirection: isMobile ? \"column\" : \"row\",\r\n  };\r\n\r\n  // Patient image container styles\r\n  const patientImageContainerStyle = {\r\n    width: isMobile ? \"100%\" : \"33.333%\",\r\n    backgroundColor: \"#F8FAFC\",\r\n    cursor: patient?.image_url ? \"pointer\" : \"default\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n  };\r\n\r\n  // No image placeholder styles\r\n  const noImagePlaceholderStyle = {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height: isMobile ? \"200px\" : \"100%\",\r\n    backgroundColor: \"#F1F5F9\",\r\n    padding: \"24px\",\r\n  };\r\n\r\n  // No image icon styles\r\n  const noImageIconStyle = {\r\n    width: \"64px\",\r\n    height: \"64px\",\r\n    marginBottom: \"8px\",\r\n    color: \"#94A3B8\",\r\n  };\r\n\r\n  // Patient info container styles\r\n  const patientInfoContainerStyle = {\r\n    width: isMobile ? \"100%\" : \"66.666%\",\r\n    padding: isMobile ? \"20px\" : \"24px\",\r\n  };\r\n\r\n  // Patient header styles\r\n  const patientHeaderStyle = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: isMobile ? \"flex-start\" : \"center\",\r\n    marginBottom: \"24px\",\r\n    flexDirection: isMobile ? \"column\" : \"row\",\r\n    gap: isMobile ? \"12px\" : \"0\",\r\n  };\r\n\r\n  // Patient name styles\r\n  const patientNameStyle = {\r\n    fontSize: isMobile ? \"20px\" : \"24px\",\r\n    fontWeight: \"700\",\r\n    color: \"#1E293B\",\r\n  };\r\n\r\n  // Patient ID badge styles\r\n  const patientIdBadgeStyle = {\r\n    backgroundColor: \"#DBEAFE\",\r\n    color: \"#1D4ED8\",\r\n    fontSize: \"12px\",\r\n    padding: \"4px 12px\",\r\n    borderRadius: \"9999px\",\r\n    fontWeight: \"500\",\r\n    display: \"inline-block\",\r\n  };\r\n\r\n  // Patient details grid styles\r\n  const patientDetailsGridStyle = {\r\n    display: \"grid\",\r\n    gridTemplateColumns: isMobile ? \"1fr\" : \"repeat(2, 1fr)\",\r\n    gap: \"16px\",\r\n    marginBottom: \"24px\",\r\n    borderBottom: \"1px solid #E2E8F0\",\r\n    paddingBottom: \"16px\",\r\n  };\r\n\r\n  // Patient detail label styles\r\n  const patientDetailLabelStyle = {\r\n    fontSize: \"13px\",\r\n    fontWeight: \"500\",\r\n    color: \"#64748B\",\r\n    marginBottom: \"4px\",\r\n  };\r\n\r\n  // Patient detail value styles\r\n  const patientDetailValueStyle = {\r\n    fontSize: isMobile ? \"16px\" : \"18px\",\r\n    color: \"#334155\",\r\n    fontWeight: \"500\",\r\n  };\r\n\r\n  // Patient results section styles\r\n  const patientNotesSectionStyle = {\r\n    paddingTop: \"16px\",\r\n    width: isMobile ? \"90%\" : \"100%\",\r\n  };\r\n\r\n  // Patient results title styles\r\n  const patientNotesTitleStyle = {\r\n    fontSize: isMobile ? \"16px\" : \"18px\",\r\n    fontWeight: \"600\",\r\n    color: \"#1E293B\",\r\n    marginBottom: \"12px\",\r\n  };\r\n\r\n  // Test results content styles\r\n  const notesContentStyle = {\r\n    backgroundColor: \"#EFF6FF\",\r\n    color: \"#1E40AF\",\r\n    padding: \"16px\",\r\n    borderRadius: \"8px\",\r\n    fontSize: isMobile ? \"14px\" : \"15px\",\r\n    lineHeight: \"1.5\",\r\n    marginBottom: \"20px\",\r\n    minHeight: \"40px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  };\r\n\r\n  // No results message styles\r\n  const noNotesMessageStyle = {\r\n    color: \"#64748B\",\r\n    fontStyle: \"italic\",\r\n  };\r\n\r\n  // Actions container styles\r\n  const actionsContainerStyle = {\r\n    marginTop: \"12px\",\r\n    display: \"flex\",\r\n    justifyContent: isMobile ? \"center\" : \"flex-end\",\r\n    gap: \"12px\",\r\n    flexDirection: isMobile ? \"column\" : \"row\",\r\n    width: isMobile ? \"90%\" : \"100%\",\r\n  };\r\n\r\n  // No patient found card styles\r\n  const noPatientCardStyle = {\r\n    backgroundColor: \"#FFFFFF\",\r\n    padding: \"24px\",\r\n    borderRadius: \"12px\",\r\n    boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.05)\",\r\n    textAlign: \"center\",\r\n    border: \"1px solid #E2E8F0\",\r\n    marginBottom: \"24px\",\r\n  };\r\n\r\n  // No patient icon styles\r\n  const noPatientIconStyle = {\r\n    width: \"48px\",\r\n    height: \"48px\",\r\n    margin: \"0 auto 16px auto\",\r\n    color: \"#EF4444\",\r\n  };\r\n\r\n  // No patient title styles\r\n  const noPatientTitleStyle = {\r\n    fontSize: isMobile ? \"16px\" : \"18px\",\r\n    fontWeight: \"500\",\r\n    color: \"#111827\",\r\n    marginBottom: \"8px\",\r\n  };\r\n\r\n  // No patient message styles\r\n  const noPatientMessageStyle = {\r\n    color: \"#64748B\",\r\n    marginBottom: \"16px\",\r\n  };\r\n\r\n  // Patient ID highlight styles\r\n  const patientIdHighlightStyle = {\r\n    fontWeight: \"600\",\r\n  };\r\n\r\n  // Patient image zoom overlay\r\n  const imageOverlayStyle = {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.85)\",\r\n    display: isImageEnlarged ? \"flex\" : \"none\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    zIndex: 1000,\r\n    backdropFilter: \"blur(4px)\",\r\n  };\r\n\r\n  // Enlarged image container\r\n  const enlargedImageContainerStyle = {\r\n    position: \"relative\",\r\n    maxWidth: \"90%\",\r\n    maxHeight: \"90%\",\r\n    boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.3)\",\r\n    borderRadius: \"8px\",\r\n    overflow: \"hidden\",\r\n  };\r\n\r\n  // Enlarged image style\r\n  const enlargedImageStyle = {\r\n    maxWidth: \"100%\",\r\n    maxHeight: \"90vh\",\r\n    objectFit: \"contain\",\r\n  };\r\n\r\n  // Close button for enlarged image\r\n  const closeEnlargedImageButtonStyle = {\r\n    position: \"absolute\",\r\n    top: \"12px\",\r\n    right: \"12px\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n    color: \"white\",\r\n    borderRadius: \"50%\",\r\n    width: \"36px\",\r\n    height: \"36px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    cursor: \"pointer\",\r\n    border: \"none\",\r\n    outline: \"none\",\r\n  };\r\n\r\n  // Image zoom icon\r\n  const zoomIconStyle = {\r\n    position: \"absolute\",\r\n    top: \"12px\",\r\n    right: \"12px\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n    color: \"white\",\r\n    borderRadius: \"50%\",\r\n    width: \"32px\",\r\n    height: \"32px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    cursor: \"pointer\",\r\n    zIndex: 10,\r\n  };\r\n\r\n  // Patient image responsive style\r\n  const patientImageStyle = {\r\n    width: \"100%\",\r\n    height: isMobile ? \"250px\" : \"100%\",\r\n    objectFit: \"cover\",\r\n    transition: \"transform 0.3s ease\",\r\n  };\r\n\r\n  // Hover text for image zoom\r\n  const zoomTextStyle = {\r\n    position: \"absolute\",\r\n    bottom: \"12px\",\r\n    left: \"0\",\r\n    right: \"0\",\r\n    textAlign: \"center\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.6)\",\r\n    color: \"white\",\r\n    padding: \"8px\",\r\n    fontSize: \"12px\",\r\n    opacity: 0,\r\n    transition: \"opacity 0.2s ease\",\r\n  };\r\n\r\n  // Function to format image URL\r\n  const formatImageUrl = (imagePath) => {\r\n    if (!imagePath) return null;\r\n    // If URL is already absolute with http/https, use it as is\r\n    if (imagePath.startsWith(\"http\")) {\r\n      return imagePath;\r\n    }\r\n    // Otherwise, prefix with the API base URL\r\n    return `http://localhost:8000${imagePath}`;\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div style={pageContainerStyle}>\r\n        <div style={headerSectionStyle}>\r\n          <h1 style={headerTitleStyle}>Patient Lookup</h1>\r\n          <p style={headerDescriptionStyle}>\r\n            Enter the patient ID to view their details and test results\r\n          </p>\r\n        </div>\r\n\r\n        <div style={searchFormCardStyle}>\r\n          <form onSubmit={handleSearch} style={formStyle}>\r\n            <div style={formGroupStyle}>\r\n              <label style={labelStyle} htmlFor=\"patientId\">\r\n                Patient ID\r\n              </label>\r\n              <input\r\n                id=\"patientId\"\r\n                type=\"text\"\r\n                style={inputStyle}\r\n                value={patientId}\r\n                onChange={(e) => {\r\n                  setPatientId(e.target.value);\r\n                  setSearchError(\"\");\r\n                }}\r\n                placeholder=\"Enter patient ID (e.g., P001)\"\r\n                onFocus={focusStyle}\r\n                onBlur={blurStyle}\r\n              />\r\n              {searchError && (\r\n                <div style={errorMessageStyle}>{searchError}</div>\r\n              )}\r\n            </div>\r\n            <div style={buttonContainerStyle}>\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"primary\"\r\n                disabled={loading}\r\n                style={{\r\n                  width: isMobile ? \"100%\" : \"auto\",\r\n                  padding: \"12px 20px\",\r\n                  fontSize: \"15px\",\r\n                  borderRadius: \"8px\",\r\n                  marginTop: isMobile && searchError ? \"24px\" : \"0\",\r\n                  backgroundColor: \"#0EA5E9\",\r\n                  borderColor: \"#0EA5E9\",\r\n                }}\r\n              >\r\n                {loading ? (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                  >\r\n                    <Spinner size=\"small\" color=\"white\" />\r\n                    <span style={{ marginLeft: \"8px\" }}>Searching...</span>\r\n                  </div>\r\n                ) : (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: isMobile ? \"center\" : \"flex-start\",\r\n                    }}\r\n                  >\r\n                    <svg\r\n                      style={searchIconStyle}\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n                      />\r\n                    </svg>\r\n                    Search\r\n                  </div>\r\n                )}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Patient Image Zoom Overlay */}\r\n        <div\r\n          style={imageOverlayStyle}\r\n          onClick={() => setIsImageEnlarged(false)}\r\n        >\r\n          <div\r\n            style={enlargedImageContainerStyle}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            {imageBlob && (\r\n              <img\r\n                src={imageBlob}\r\n                alt={patient?.name}\r\n                style={enlargedImageStyle}\r\n              />\r\n            )}\r\n            <button\r\n              style={closeEnlargedImageButtonStyle}\r\n              onClick={() => setIsImageEnlarged(false)}\r\n              aria-label=\"Close image preview\"\r\n            >\r\n              <svg\r\n                width=\"20\"\r\n                height=\"20\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M6 18L18 6M6 6l12 12\"\r\n                />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {patient && (\r\n          <div style={patientCardStyle}>\r\n            <div style={patientCardFlexStyle}>\r\n              <div\r\n                style={patientImageContainerStyle}\r\n                onMouseEnter={(e) => {\r\n                  if (imageBlob) {\r\n                    const zoomText =\r\n                      e.currentTarget.querySelector(\"[data-zoom-text]\");\r\n                    if (zoomText) zoomText.style.opacity = \"1\";\r\n                  }\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  if (imageBlob) {\r\n                    const zoomText =\r\n                      e.currentTarget.querySelector(\"[data-zoom-text]\");\r\n                    if (zoomText) zoomText.style.opacity = \"0\";\r\n                  }\r\n                }}\r\n              >\r\n                {imageLoading ? (\r\n                  <div style={noImagePlaceholderStyle}>\r\n                    <Spinner size=\"medium\" color=\"#64748B\" />\r\n                    <p style={{ marginTop: \"16px\", color: \"#64748B\" }}>\r\n                      Loading image...\r\n                    </p>\r\n                  </div>\r\n                ) : imageBlob ? (\r\n                  <div style={{ height: \"100%\" }}>\r\n                    <img\r\n                      src={imageBlob}\r\n                      alt={patient.name}\r\n                      style={patientImageStyle}\r\n                      onClick={() => setIsImageEnlarged(true)}\r\n                    />\r\n                    <div\r\n                      style={zoomIconStyle}\r\n                      onClick={() => setIsImageEnlarged(true)}\r\n                    >\r\n                      <svg\r\n                        width=\"18\"\r\n                        height=\"18\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth={2}\r\n                          d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\"\r\n                        />\r\n                      </svg>\r\n                    </div>\r\n                    <div style={zoomTextStyle} data-zoom-text=\"true\">\r\n                      Click to enlarge image\r\n                    </div>\r\n                  </div>\r\n                ) : imageError ? (\r\n                  <div style={noImagePlaceholderStyle}>\r\n                    <svg\r\n                      style={noImageIconStyle}\r\n                      fill=\"none\"\r\n                      stroke=\"#EF4444\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                      />\r\n                    </svg>\r\n                    <p style={{ color: \"#EF4444\" }}>Error loading image</p>\r\n                  </div>\r\n                ) : (\r\n                  <div style={noImagePlaceholderStyle}>\r\n                    <svg\r\n                      style={noImageIconStyle}\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                    >\r\n                      <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        strokeWidth={2}\r\n                        d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\r\n                      />\r\n                    </svg>\r\n                    <p>No image available</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div style={patientInfoContainerStyle}>\r\n                <div style={patientHeaderStyle}>\r\n                  <h2 style={patientNameStyle}>{patient.name}</h2>\r\n                  <div style={patientIdBadgeStyle}>\r\n                    Patient ID: {patient.id}\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={patientDetailsGridStyle}>\r\n                  <div>\r\n                    <h3 style={patientDetailLabelStyle}>Age</h3>\r\n                    <p style={patientDetailValueStyle}>{patient.age} years</p>\r\n                  </div>\r\n                  {patient.gender && (\r\n                    <div>\r\n                      <h3 style={patientDetailLabelStyle}>Gender</h3>\r\n                      <p style={patientDetailValueStyle}>{patient.gender}</p>\r\n                    </div>\r\n                  )}\r\n                  {patient.contactNumber && (\r\n                    <div>\r\n                      <h3 style={patientDetailLabelStyle}>Contact Number</h3>\r\n                      <p style={patientDetailValueStyle}>\r\n                        {patient.contactNumber}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {patient.email && (\r\n                    <div>\r\n                      <h3 style={patientDetailLabelStyle}>Email</h3>\r\n                      <p style={patientDetailValueStyle}>{patient.email}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div style={patientNotesSectionStyle}>\r\n                  <h3 style={patientNotesTitleStyle}>Notes</h3>\r\n                  {patient.note ? (\r\n                    <div style={notesContentStyle}>{patient.note}</div>\r\n                  ) : (\r\n                    <p style={noNotesMessageStyle}>No notes available</p>\r\n                  )}\r\n                </div>\r\n\r\n                <div style={actionsContainerStyle}>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    size=\"small\"\r\n                    onClick={clearResults}\r\n                    style={{\r\n                      padding: \"10px 16px\",\r\n                      fontSize: \"14px\",\r\n                      borderRadius: \"8px\",\r\n                      width: isMobile ? \"100%\" : \"auto\",\r\n                      backgroundColor: \"#F3E8FF\",\r\n                      color: \"#9333EA\",\r\n                      border: \"1px solid #E9D5FF\",\r\n                    }}\r\n                  >\r\n                    Clear Results\r\n                  </Button>\r\n                  {imageBlob && (\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      size=\"small\"\r\n                      onClick={() => setIsImageEnlarged(true)}\r\n                      style={{\r\n                        padding: \"10px 16px\",\r\n                        fontSize: \"14px\",\r\n                        borderRadius: \"8px\",\r\n                        width: isMobile ? \"100%\" : \"auto\",\r\n                        backgroundColor: \"#0EA5E9\",\r\n                        borderColor: \"#0EA5E9\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          justifyContent: isMobile ? \"center\" : \"flex-start\",\r\n                        }}\r\n                      >\r\n                        <svg\r\n                          style={{\r\n                            width: \"16px\",\r\n                            height: \"16px\",\r\n                            marginRight: \"6px\",\r\n                          }}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                          />\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n                          />\r\n                        </svg>\r\n                        View Image\r\n                      </div>\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {!patient && !loading && patientId && searchError && (\r\n          <div style={noPatientCardStyle}>\r\n            <div style={{ color: \"#EF4444\" }}>\r\n              <svg\r\n                style={noPatientIconStyle}\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n            <h3 style={noPatientTitleStyle}>No Results Found</h3>\r\n            <p style={noPatientMessageStyle}>\r\n              We couldn't find a patient with the ID:{\" \"}\r\n              <span style={patientIdHighlightStyle}>{patientId}</span>\r\n            </p>\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"small\"\r\n              onClick={() => {\r\n                setPatientId(\"\");\r\n                setSearchError(\"\");\r\n              }}\r\n              style={{\r\n                padding: \"10px 16px\",\r\n                fontSize: \"14px\",\r\n                borderRadius: \"8px\",\r\n                width: isMobile ? \"100%\" : \"auto\",\r\n                maxWidth: \"200px\",\r\n                margin: isMobile ? \"0 auto\" : \"0\",\r\n                backgroundColor: \"#F3E8FF\",\r\n                color: \"#9333EA\",\r\n                border: \"1px solid #E9D5FF\",\r\n              }}\r\n            >\r\n              Try Again\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default SearchPatient;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}